<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">

        <title>{% block title %}WhereToWatch!{% endblock %}</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">

        <!-- Mobile Metas -->
        <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">

        <!-- Site Metas -->
        <meta name="keywords" content="cinema movies">
        <meta name="description" content="a website that shows cinema plannings latest movies ">
        <meta name="author" content="amin saief">

        <!-- Site Icons -->
        <link rel="shortcut icon" href="{{ asset("images/logo96.png") }}" type="image/x-icon" />
        <link rel="apple-touch-icon" href="#" />

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="{{ asset('css/bootstrap.min.css') }}" />
        <!-- Pogo Slider CSS -->
        <link rel="stylesheet" href="{{ asset("css/pogo-slider.min.css") }}" />
        <!-- Site CSS -->
        <link rel="stylesheet" href="{{ asset("css/style.css") }}" />
        <!-- Responsive CSS -->
        <link rel="stylesheet" href="{{ asset("css/responsive.css") }}" />
        <!-- Custom CSS -->
        <link rel="stylesheet" href="{{ asset("css/custom.css") }}" />

        <!-- bootstrap-select -->
        <link rel="stylesheet" href="{{ asset("node_modules/bootstrap-select/dist/css/bootstrap-select.min.css") }}" />


        {% block stylesheets %}{% endblock %}

        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>


    <body id="inner_page" data-spy="scroll" data-target="#navbar-wd" data-offset="98">
{#    <!-- LOADER -->
    <div id="preloader">
        <div class="loader">
            <img src="{{ asset("images/loader.gif") }}"  alt="#" />
        </div>
    </div>
    <!-- end loader -->
    <!-- END LOADER -->#}

    <!-- Start header -->
    <header class="top-header">
        <nav class="navbar header-nav navbar-expand-lg">
            <div class="container-fluid">
                <a class="navbar-brand" href="{{ url('home') }}"><img src="{{ asset("images/title.png") }}" alt="image"></a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-wd" aria-controls="navbar-wd" aria-expanded="false" aria-label="Toggle navigation">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="collapse navbar-collapse justify-content-end" id="navbar-wd">
                    <ul class="navbar-nav ">
                        <li><a class="nav-link active " href="{{ url('home') }}">Home</a></li>
                        <li><a class="nav-link" href="{{ url('movies') }}">Movies</a></li>
                        <li><a class="nav-link" href="{{ url('cinemas') }}">Cinemas</a></li>
                        <li><a class="nav-link" href="{{ url('plannings') }}">Plans</a></li>
                        <li><a class="nav-link" href="{{ url('contact_us') }}">Contact us</a></li>
                        {% if app.user and app.user.roles[0]=="ROLE_REG_USER" %}

                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa fa-user fa-lg" aria-hidden="true"></i>{{ app.user.username }}
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="{{ url('reguser_profile') }}">Profile</a>
                                    <a class="dropdown-item" href="{{ url('reguser_settings') }}">Settings</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href={{ url("app_logout") }}>Logout</a>

                                </div>
                            </li>
                             {% elseif app.user and app.user.roles[0] == "ROLE_CIN_OWNER" %}
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    <i class="fa fa-user fa-lg" aria-hidden="true"></i>{{ app.user.username }}
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="{{ url('regowner_profile') }}">Profile</a>
                                    <a class="dropdown-item" href="{{ url('myplannings') }}">My Plannings</a>
                                    <a class="dropdown-item" href="{{ url('regowner_settings') }}">Settings</a>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item" href={{ url("app_logout") }}>Logout</a>
                                </div>
                            </li>
                        {% else %}
                        <li><a class="nav-link" href="{{ url('app_login') }}">Login</a></li>
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                    Register
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                    <a class="dropdown-item" href="{{ url('owner_app_register') }}">Register as Owner</a>
                                    <a class="dropdown-item" href="{{ url('app_register') }}">Register as User</a>
                                </div>
                            </li>
                        {% endif %}

                    </ul>
                </div>
{#                <div class="search-box">
                    <input type="text" class="search-txt" placeholder="Search">
                    <a class="search-btn">
                        <img src="{{ asset('images/search_icon.png') }}" alt="#" />
                    </a>
                </div>#}
            </div>
        </nav>
    </header>
    <!-- End header -->

        {% block body %}{% endblock %}

   <!-- Start Footer -->
    <br/><br/>
   <footer class="footer-box">
       <div class="container">

           <div class="row">

               <div class="col-xs-12 col-sm-6 col-md-6 col-lg-3">
                   <div class="footer_blog">
                       <div class="full margin-bottom_30">
                           <img src="{{ asset('images/footer_logo2.png') }}" alt="#" />
                       </div>
                       <div class="full white_fonts">
              {#             <p>All rights reserved. Well we didn't think about that,we thought future is opting for open source
                           as it helps building better websites with better services nevertheless there is no rights in this
                           project.So enjoy </p>#}
                       </div>
                   </div>
               </div>

               <div class="col-xs-12 col-sm-6 col-md-6 col-lg-3">
                   <div class="footer_blog footer_menu white_fonts">
                       <h3>Quick links</h3>
                       <ul>
                           <li><a href="{{ url('app_register') }}">> Join Us</a></li>
                           <li><a href="{{ url('movies') }}">> Movies</a></li>
                           <li><a href="{{ url('cinemas') }}">> Cinemas</a></li>
                           <li><a href="{{ url('plannings') }}">> Plannings</a></li>
                           <li><a href="{{ url('contact_us') }}">> Contact Us</a></li>
                       </ul>
                   </div>
               </div>

               <div class="col-xs-12 col-sm-6 col-md-6 col-lg-3">
                   <div class="footer_blog full white_fonts">
                       <h3>Newsletter</h3>
                       <p>Coming Soon ! </p>
                       {#<div class="newsletter_form">
                           <form action="index.html">
                               <input type="email" placeholder="Your Email" name="#" required />
                               <button>Submit</button>
                           </form>
                       </div>#}
                   </div>
               </div>

               <div class="col-xs-12 col-sm-6 col-md-6 col-lg-3">
                   <div class="footer_blog full white_fonts" id="contact-us">
                       <h3>Contact us</h3>
                       <ul class="full">
                           <li><img src="{{ asset('images/i5.png') }}"><span>chargiya centre urbain nord<br>tunis</span></li>
                           <li><img src="{{ asset('images/i6.png') }}"><span>webprojectbot.noreply@gmail.com</span></li>
                           <li><img src="{{ asset('images/i7.png') }}"><span>71 703 829</span></li>
                       </ul>
                   </div>
               </div>

           </div>

       </div>
   </footer>
   <!-- End Footer -->

   <div class="footer_bottom">
       <div class="container">
           <div class="row">
               <div class="col-12">
                   <p class="crp">Â© All rights Reserved  </p>
               </div>
           </div>
       </div>
   </div>

   <a href="#" id="scroll-to-top" class="hvr-radial-out"><i class="fa fa-angle-up"></i></a>

   <!-- ALL JS FILES -->
   <script src="{{ asset('js/jquery.min.js') }}" ></script>
   <script src="{{ asset('js/popper.min.js') }}"></script>
   <script src="{{ asset('js/bootstrap.min.js') }}"></script>
   <!-- ALL PLUGINS -->
   <script src="{{ asset('js/jquery.magnific-popup.min.js') }}"></script>
   <script src="{{ asset('js/jquery.pogo-slider.min.js') }}"  ></script>
   <script src="{{ asset('js/slider-index.js') }}" ></script>
{#   <script src="{{ asset('js/smoothscroll.js') }}" ></script>#}
   <script src="{{ asset('js/form-validator.min.js') }}" ></script>
   <script src="{{ asset('js/contact-form-script.js') }}" ></script>
   <script src="{{ asset('js/isotope.min.js') }}" ></script>
   <script src="{{ asset('js/images-loded.min.js') }}" ></script>
   <script src="{{ asset('js/custom.js') }}"></script>
   <script src="{{ asset('node_modules/bootstrap-select/dist/js/bootstrap-select.min.js') }}"></script>
    <script src="{{ asset('js/smooth-scroll/smooth-scroll.js') }}"></script>
   <script>


        /* script to change id if home */
       $(document).ready(function () {
           changeId();
       });
       function changeId(){
           var path = location.pathname;
           if (path==="/")document.getElementsByTagName("body").item(0).setAttribute("id","home");

       }
       /*script finished */

       /* counter js */

       (function ($) {
           $.fn.countTo = function (options) {
               options = options || {};

               return $(this).each(function () {
                   // set options for current element
                   var settings = $.extend({}, $.fn.countTo.defaults, {
                       from:            $(this).data('from'),
                       to:              $(this).data('to'),
                       speed:           $(this).data('speed'),
                       refreshInterval: $(this).data('refresh-interval'),
                       decimals:        $(this).data('decimals')
                   }, options);

                   // how many times to update the value, and how much to increment the value on each update
                   var loops = Math.ceil(settings.speed / settings.refreshInterval),
                       increment = (settings.to - settings.from) / loops;

                   // references & variables that will change with each update
                   var self = this,
                       $self = $(this),
                       loopCount = 0,
                       value = settings.from,
                       data = $self.data('countTo') || {};

                   $self.data('countTo', data);

                   // if an existing interval can be found, clear it first
                   if (data.interval) {
                       clearInterval(data.interval);
                   }
                   data.interval = setInterval(updateTimer, settings.refreshInterval);

                   // initialize the element with the starting value
                   render(value);

                   function updateTimer() {
                       value += increment;
                       loopCount++;

                       render(value);

                       if (typeof(settings.onUpdate) == 'function') {
                           settings.onUpdate.call(self, value);
                       }

                       if (loopCount >= loops) {
                           // remove the interval
                           $self.removeData('countTo');
                           clearInterval(data.interval);
                           value = settings.to;

                           if (typeof(settings.onComplete) == 'function') {
                               settings.onComplete.call(self, value);
                           }
                       }
                   }

                   function render(value) {
                       var formattedValue = settings.formatter.call(self, value, settings);
                       $self.html(formattedValue);
                   }
               });
           };

           $.fn.countTo.defaults = {
               from: 0,               // the number the element should start at
               to: 0,                 // the number the element should end at
               speed: 1000,           // how long it should take to count between the target numbers
               refreshInterval: 100,  // how often the element should be updated
               decimals: 0,           // the number of decimal places to show
               formatter: formatter,  // handler for formatting the value before rendering
               onUpdate: null,        // callback method for every time the element is updated
               onComplete: null       // callback method for when the element finishes updating
           };

           function formatter(value, settings) {
               return value.toFixed(settings.decimals);
           }
       }(jQuery));

       jQuery(function ($) {
           // custom formatting example
           $('.count-number').data('countToOptions', {
               formatter: function (value, options) {
                   return value.toFixed(options.decimals).replace(/\B(?=(?:\d{3})+(?!\d))/g, ',');
               }
           });

           // start all the timers
           $('.timer').each(count);

           function count(options) {
               var $this = $(this);
               options = $.extend({}, options || {}, $this.data('countToOptions') || {});
               $this.countTo(options);
           }
       });
   </script>

   {% block javascripts %}{% endblock %}
    </body>
</html>
